Код для скачивания файла при выборе кнопки "Начать анализ", сейчас не используется:

//*************************************************************
// слушатель события на кнопке расширения браузерного плагина
start.addEventListener('click',() => 
{
  createData();
});

function createData()
{  
  var currentUrl = "";
  var chromeTabsError = "";
  chrome.tabs.query({ currentWindow: true, active: true }).then(saveInfoInActiveTabs, chromeTabsError);
}
async function saveInfoInActiveTabs(tabs) {
  currentUrl=tabs[0].url;
  let response = await fetch(currentUrl);
  responseText = await response.text();
  let fileContent = `${responseText}`;
  // создаем объект Blob с данными файла
  let file = new Blob([fileContent], {type: 'text/plain'});
  // создаем ссылку для скачивания файла
  let downloadLink = document.createElement('a');
  downloadLink.href = URL.createObjectURL(file);
  downloadLink.download = 'data.txt';
  // добавляем ссылку на страницу и эмулируем клик для скачивания файла
  document.body.appendChild(downloadLink);
  downloadLink.click();
  document.body.removeChild(downloadLink);
}

function chromeTabsError(error) {
  //В переменной содержится информация об ошибке получения URL активного таба
  chromeTabsError= `Error: ${error}`;
}
//*************************************************************


Код для логирования (скачивается файл с данными):

//****************ЛОГИРОВАНИЕ**********************************
// определяем значения переменных
let variable1 = currentUrl;
// создаем строку с данными переменных
let fileContent = `Переменная 1: ${variable1}`;
// создаем объект Blob с данными файла
let file = new Blob([fileContent], {type: 'text/plain'});
// создаем ссылку для скачивания файла
let downloadLink = document.createElement('a');
downloadLink.href = URL.createObjectURL(file);
downloadLink.download = 'consoleErrorDataLoading.txt';
// добавляем ссылку на страницу и эмулируем клик для скачивания файла
document.body.appendChild(downloadLink);
downloadLink.click();
document.body.removeChild(downloadLink);
//****************ЛОГИРОВАНИЕ**********************************


//**************КОД МЕНЯЕТ СОДЕРЖИМОЕ ПОПАПА*******************
  const form = document.querySelector('body')
  // Меняем содержимое новым html
  form.innerHTML = ''

  const h2Input = document.createElement("h2");
  h2Input.className="error";
  document.body.append(h2Input);
  h2Input.innerHTML = "Ошибка";

  const pInput = document.createElement("p");
  document.body.append(pInput);
  pInput.innerHTML = "Как исправить";
//**************КОД МЕНЯЕТ СОДЕРЖИМОЕ ПОПАПА*******************


//*************************************************************
ОСТАЛОСЬ ДОПИСАТЬ:
Проверяем:
Проблема:
      o	Можем ли понять цель пользователя? Если хотят что-то, то для чего? Зачем?
      o	В чем неудобство? Если делают что-то неудобно, то почему это неудобно?
      o	Это фича есть у конкурентов, но ее нет у нас? Что нам даст разработка этой фичи? Будет ли удобно пользователю?
Цель:
      o	Коротко указаны требуемые доработки, проверить все ли указали в цели? Проверить бы что то, что будет реализовано, решит проблему пользователя
Ограничения:
      o	В качестве рекомендации просьба проверить, что указаны нереализуемые доработки (цель пользователя не вся будет закрыта);
      o	Есть сценарии, которые проверить нельзя;
      o	Есть зависимости между задачами
Роли:
      o	Дорабатываем функционал? Для кого?
      o	Дорабатываем что-то с конкретной закупкой, то кто пользователь в закупке?
      o	Задавать вопрос нужен ли Оператору функционал? Если нет, то нужно ли вынести это в ограничения (нельзя проверить)?
Схемы:
      o	Должна быть когда есть доработка бизнес-процесса или новый функционал (новый процесс)
Сценарии:
      o	А они не нужны только если мы просто делаем переименовку/добавление полей/блоков на форму без условий
В требованиях:
–	Какие требования указаны?
    o	Указаны приложения которые дорабатываем
    o	Прописано у кого есть доступ и у кого точно нет доступа к функционалу
    o	В названиях не используются сокращения
    o	Новое поле
        §	Указана связь с БД
        §	Комментарий в БД к полю
        §	Указан формат поля
        §	Указано местоположение поля
        §	Если указано наличие подсказки, проверить что текст указан. Написано нужно ли где-то выгружать подсказку (на печатных формах, в архивах)
        §	Указано значение по умолчанию
        §	Поле редактируемое/нередактируемое
        §	Указана обязательность поля
        §	Указаны условия отображения
    o	Новый пакет ЕИС
        §	Есть ссылка на описание пакета или вставлена выборка на описание
        §	Описано куда сохранять данные/откуда их брать
        §	Указана потребность отправки уведомления
        §	Указана потребность публиковать событие
        §	Описана отправка пакетов в НР
    o	Новый пакет в НР
        §	Есть ссылка на описание пакета или вставлена выборка на описание
        §	Описано /откуда их брать
        §	Описано когда отправлять пакет
        o	Новый справочник
        §	Описано откуда брать 
        §	Куда записывать инфрмацию?
        §	Как обновлять справочник?
        §	Описано где он будет использоваться
    o	Добавление таблиц
        §	Прописана сортировка по-умолчанию
        §	Как еще можно сортировать?
        §	Есть поиск по таблице?
        §	Есть кнопки настройки столбцов?
        §	Есть выгрузка таблицы?
        §	Какая пагинация?
    o	Добавляем фильтр
        §	Указано значение фильтра
        §	Указано противоречит ли фильтр существующим
–	Указаны ли макеты?
–	Есть ли нумерация таблиц/макетов/примеров?
–	Учтены ошибочные сценарии? Ошибки валидации
//*************************************************************